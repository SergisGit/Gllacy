function init(){(myMap=new ymaps.Map("map",{center:[59.939341672682204,30.32883931838468],zoom:16})).behaviors.disable("scrollZoom"),myMap.controls.remove("searchControl"),myPlacemark=new ymaps.Placemark([59.938662169970215,30.323054972279827],{hintContent:"г. Санкт-Петербург, ул. Б. Конюшенная, д. 19/8"},{iconLayout:"default#image",iconImageHref:"./img/map-marker.png",iconImageSize:[218,142],iconImageOffset:[-38,-140]}),myMap.geoObjects.add(myPlacemark)}function setSliderHandle(e,n){var t=[null,null];t[e]=n,slider.noUiSlider.set(t)}var popupOverlay=document.querySelector(".popup-overlay"),hiddenForm=document.querySelector(".hidden-form"),divMap=document.querySelector(".map");if(divMap){ymaps.ready(init);var myMap,myPlacemark}if(hiddenForm){var feedbackBtn=document.querySelector(".feedback-btn"),contactName=hiddenForm.querySelector("#contact-name"),close=document.querySelector(".close-btn");feedbackBtn.addEventListener("click",function(e){e.preventDefault(),popupOverlay.classList.add("popup-overlay-showed"),hiddenForm.classList.add("hidden-form-animation"),setTimeout(function(){contactName.focus()},600)}),window.addEventListener("keydown",function(e){27===e.keyCode&&hiddenForm.classList.contains("hidden-form-animation")&&(hiddenForm.classList.remove("hidden-form-animation"),popupOverlay.classList.remove("popup-overlay-showed"))}),document.addEventListener("click",function(e){!hiddenForm.classList.contains("hidden-form-animation")||e.target!=popupOverlay&&e.target!=close||(hiddenForm.classList.remove("hidden-form-animation"),popupOverlay.classList.remove("popup-overlay-showed"))})}if(document.querySelector(".filter-price")){var slider=document.getElementById("filter-range"),filterScale=document.querySelector(".filter-scale"),inputMin=document.getElementById("filter-price-min"),inputMax=document.getElementById("filter-price-max"),inputs=[inputMin,inputMax];filterScale.classList.add("hide-block"),noUiSlider.create(slider,{start:[100,500],connect:!0,step:1,range:{min:0,max:900},format:wNumb({decimals:0})}),slider.noUiSlider.on("update",function(e,n){inputs[n].value=e[n]}),inputs.forEach(function(e,n){e.addEventListener("change",function(){setSliderHandle(n,this.value)}),e.addEventListener("keydown",function(e){var t,i=slider.noUiSlider.get(),a=Number(i[n]),o=slider.noUiSlider.steps()[n];switch(e.which){case 13:setSliderHandle(n,this.value),e.preventDefault();break;case 38:!1===(t=o[1])&&(t=1),null!==t&&setSliderHandle(n,a+t);break;case 40:!1===(t=o[0])&&(t=1),null!==t&&setSliderHandle(n,a-t)}})})}